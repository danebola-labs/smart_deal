<!-- Box 2: AI Summary (Divided vertically) -->
<div class="summary-box">
  <div class="figma-card summary-card">
    <!-- Top Section: Data Sources -->
    <div class="document-info-section">
      <h3 class="section-title">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; margin-right: 0.5rem; vertical-align: middle;">
          <path d="M4 7C4 6.46957 4.21071 5.96086 4.58579 5.58579C4.96086 5.21071 5.46957 5 6 5H14L20 11V19C20 19.5304 19.7893 20.0391 19.4142 20.4142C19.0391 20.7893 18.5304 21 18 21H6C5.46957 21 4.96086 20.7893 4.58579 20.4142C4.21071 20.0391 4 19.5304 4 19V7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          <path d="M14 5V11H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          <path d="M9 13H15M9 17H15M9 9H11" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        Data Source
      </h3>
      <%= render partial: "home/documents_list", locals: { documents: @s3_documents_list } %>
    </div>

    <!-- Bottom Section: Usage -->
    <div class="ai-summary-section">
      <div class="explanation-header">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="sparkles-icon">
          <path d="M3 3V21H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M7 16L12 11L16 15L21 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M21 10V3H14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <div class="explanation-title-wrapper">
          <h2 class="explanation-title">Usage - Today</h2>
          <p class="explanation-subtitle">LLM Model: <%= current_llm_model_name %></p>
          <p class="explanation-subtitle">Embedding Model: <%= current_embedding_model_name %></p>
        </div>
      </div>
      
      <div class="explanation-content-wrapper">
        <div class="explanation-content">
          <!-- Today's Metrics -->
          <%# ID required for Turbo Stream replace - Hotwire will update this automatically %>
          <div id="metrics-container">
            <%= render partial: "home/metrics", locals: { current_metrics: @current_metrics } %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
